:root{
  --brand:#0ea5e9; --brand-600:#0284c7;
  --bg:#ffffff; --surface:#f3f4f6; --text:#111827; --muted:#6b7280;
  --radius:16px; --shadow:0 10px 30px rgb(0 0 0/.35);
  --space-1:8px; --space-2:12px; --space-3:20px; --space-4:28px;
  --font-sans:"Inter", ui-sans-serif, system-ui;
}

*,*::before,*::after{box-sizing:border-box;}

body{background:var(--bg);color:var(--text);font-family:var(--font-sans);transition:background .3s,color .3s;}

body.dark-mode{
  --bg:#0f172a; --surface:#1e293b; --text:#f8fafc; --muted:#94a3b8;
  --brand:#38bdf8; --brand-600:#0ea5e9;
}

.container{max-width:1200px;margin-inline:auto;padding-inline:clamp(var(--space-2),4vw,var(--space-4));}

.skip-link{position:absolute;top:-40px;left:0;background:var(--brand);color:#fff;padding:.5rem 1rem;z-index:100;transition:top .2s;}
.skip-link:focus{top:0;}

.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0;}

.site-header{position:sticky;top:0;z-index:50;backdrop-filter:saturate(180%) blur(10px);background:color-mix(in srgb,var(--bg) 85%,transparent);display:flex;align-items:center;justify-content:space-between;padding:var(--space-2) var(--space-3);}
.navbar{display:flex;align-items:center;gap:var(--space-3);justify-content:space-between;width:100%;}
.navbar a{color:var(--text);text-decoration:none;}

.nav-left,.nav-right{display:flex;align-items:center;gap:var(--space-2);}
.nav-right{gap:var(--space-3);}

.theme-toggle{background:none;border:0;padding:var(--space-1);cursor:pointer;font-size:1.25rem;color:var(--text);transition:color .2s;}
.hamburger{display:flex;flex-direction:column;gap:4px;background:none;border:0;padding:var(--space-1);cursor:pointer;}
.hamburger span{width:24px;height:2px;background:var(--text);}

.menu{position:absolute;top:100%;right:var(--space-3);background:var(--surface);border-radius:var(--radius);padding:var(--space-3);box-shadow:var(--shadow);display:none;flex-direction:column;gap:var(--space-2);}
.menu a{color:var(--text);text-decoration:none;}
.menu.open{display:flex;}

.logo{font-weight:600;color:var(--text);text-decoration:none;font-size:1.25rem;}
.cart{position:relative;display:inline-flex;align-items:center;text-decoration:none;color:var(--text);}
.cart .badge{position:absolute;top:-6px;right:-10px;}
.avatar{border-radius:50%;background:var(--surface);color:var(--text);border:0;width:32px;height:32px;}

.hero{position:relative;color:#fff;display:flex;align-items:center;min-height:60vh;background:url('https://images.unsplash.com/photo-1528181304800-259b0884851d?auto=format&fit=crop&w=1350&q=80') center/cover no-repeat;}
.hero::after{content:"";position:absolute;inset:0;background:linear-gradient(to bottom, rgb(0 0 0/.4), rgb(0 0 0/.6));}
.hero__content{position:relative;z-index:1;padding-block:var(--space-4);}
.hero__cta{display:flex;gap:var(--space-2);margin-top:var(--space-3);}

.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border-radius:var(--radius);border:1px solid transparent;transition:.2s;text-decoration:none;}
.btn--primary{background:var(--brand);color:#fff;}
.btn--primary:hover{background:var(--brand-600);transform:translateY(-1px);}

.badge{display:inline-flex;align-items:center;justify-content:center;border-radius:999px;background:var(--brand);color:#fff;padding:0 var(--space-1);font-size:.75rem;}

.card{background:var(--surface);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);transition:.25s;display:flex;flex-direction:column;}
.card:hover{transform:translateY(-2px);}
.card__media{width:100%;aspect-ratio:16/9;object-fit:cover;display:block;}
.card__body{padding:var(--space-3);display:flex;flex-direction:column;gap:var(--space-2);}
.card__title{font-size:1.125rem;margin:0;}

.chips{display:flex;gap:var(--space-1);flex-wrap:wrap;margin:var(--space-1) 0;padding:0;list-style:none;}
.chip{display:inline-block;background:#e5e7eb;color:#374151;font-size:.8rem;padding:.25rem .5rem;border-radius:999px;}

.bars{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--space-3);list-style:none;padding:0;}

.rating{color:var(--brand);}
.distance{color:var(--brand);font-size:.875rem;font-weight:600;min-height:1.25em;}
.card__desc{color:var(--muted);font-size:.875rem;min-height:1.25em;}

.search{margin-bottom:var(--space-3);}

.top-controls{display:flex;align-items:center;gap:var(--space-2);position:relative;}
.top-controls input{padding:var(--space-1);}

#barSearch{width:150px;transition:width .3s,transform .3s;}
#barSearch.expanded{width:300px;transform:translateX(-150px);}

.search-results{position:absolute;top:calc(100% + 4px);left:0;background:var(--surface);border:1px solid #d1d5db;border-radius:var(--radius);box-shadow:var(--shadow);list-style:none;margin:0;padding:0;width:300px;max-height:240px;overflow:auto;z-index:1000;}
.search-results li{padding:var(--space-1) var(--space-2);cursor:pointer;}
.search-results li:hover{background:var(--brand);color:#fff;}
.search-results .no-results{color:var(--muted);cursor:default;}
.location-display{
  cursor:text;
  border:0;
  background:transparent;
  color:inherit;
}
.location-display:focus{
  outline:1px solid #d1d5db;
}

@media (prefers-reduced-motion: reduce){*{animation:none;transition:none}}

.site-footer{margin-top:var(--space-4);padding:var(--space-3) 0;background:var(--surface);text-align:center;}
.site-footer a{color:var(--text);text-decoration:none;}

.auth-card{max-width:400px;margin:var(--space-4) auto;padding:var(--space-3);background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);display:flex;flex-direction:column;gap:var(--space-2);}
.auth-card h1{margin:0;text-align:center;}
.auth-card .alert{color:#dc2626;text-align:center;}
.auth-card form{display:flex;flex-direction:column;gap:var(--space-2);}
.auth-card label{display:flex;flex-direction:column;font-weight:600;gap:var(--space-1);}
.auth-card input,.auth-card select{padding:var(--space-2);border:1px solid #d1d5db;border-radius:var(--radius);}
.auth-card button{align-self:center;margin-top:var(--space-1);}

.dashboard-info{margin-bottom:var(--space-4);}
.dashboard-info .card{padding:var(--space-3);gap:var(--space-1);}
.dashboard-actions{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:var(--space-3);}
.dashboard-actions .card{padding:var(--space-3);text-align:center;gap:var(--space-2);}
.dashboard-actions .card h3{margin-top:0;}

/* generic form styles */
.form{max-width:400px;margin:var(--space-4) auto;display:flex;flex-direction:column;gap:var(--space-2);}
.form label{display:flex;flex-direction:column;font-weight:600;gap:var(--space-1);}
.form input,.form select{padding:var(--space-2);border:1px solid #d1d5db;border-radius:var(--radius);}
.form .btn{align-self:center;margin-top:var(--space-1);}
.form--inline{flex-direction:row;align-items:center;gap:var(--space-1);max-width:none;margin:0;}
.form--inline input{width:4rem;}
.form--inline .btn{margin-top:0;}

/* table styles */
.table{width:100%;border-collapse:collapse;margin:var(--space-3) 0;}
.table th,.table td{padding:var(--space-2);text-align:left;border-bottom:1px solid #e5e7eb;}
.table th{background:var(--surface);}

/* button variants */
.btn--secondary{background:var(--surface);color:var(--text);border-color:#d1d5db;}
.btn--secondary:hover{background:#e5e7eb;}
.btn--danger{background:#dc2626;color:#fff;}
.btn--danger:hover{background:#b91c1c;}
.btn--success{background:#16a34a;color:#fff;}
.btn--success:hover{background:#15803d;}
.btn--small{padding:.5rem .75rem;font-size:.875rem;}

/* product grid */
.products{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:var(--space-3);list-style:none;padding:0;}

/* utilities */
.alert{padding:var(--space-2);border-radius:var(--radius);margin-bottom:var(--space-3);}
.alert-danger{background:#fee2e2;color:#991b1b;}
.alert-success{background:#d1fae5;color:#065f46;}
.text-center{text-align:center;}

