:root{
  --brand:#0ea5e9; --brand-600:#0284c7;
  --bg:#ffffff; --surface:#f3f4f6; --text:#111827; --muted:#6b7280;
  --radius:16px; --shadow:0 10px 30px rgb(0 0 0/.35);
  --space-1:8px; --space-2:12px; --space-3:20px; --space-4:28px;
  --font-sans:"Inter", ui-sans-serif, system-ui;
}

*,*::before,*::after{box-sizing:border-box;}

body{background:var(--bg);color:var(--text);font-family:var(--font-sans);transition:background .3s,color .3s;}

body.dark-mode{
  --bg:#0f172a; --surface:#1e293b; --text:#f8fafc; --muted:#94a3b8;
  --brand:#38bdf8; --brand-600:#0ea5e9;
}

.container{max-width:1200px;margin-inline:auto;padding-inline:clamp(var(--space-2),4vw,var(--space-4));}


.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0;}

.site-header{position:sticky;top:0;z-index:50;background:var(--bg);border-bottom:1px solid rgba(0,0,0,0.06);}
.navbar{display:flex;align-items:center;justify-content:space-between;gap:var(--space-2);padding:calc(8px + env(safe-area-inset-top)) 8px 8px;}
.navbar a{color:var(--text);text-decoration:none;}
.navbar.is-scrolled{box-shadow:var(--shadow);background:var(--surface);}

.nav-left,.nav-right{display:flex;align-items:center;gap:var(--space-2);}
.nav-right{gap:var(--space-3);}

.theme-toggle{background:none;border:0;padding:var(--space-1);cursor:pointer;font-size:1.25rem;color:var(--text);transition:color .2s;min-width:44px;min-height:44px;}
.hamburger{display:flex;flex-direction:column;gap:4px;background:none;border:0;padding:var(--space-1);cursor:pointer;min-width:44px;min-height:44px;}
.hamburger span{width:24px;height:2px;background:var(--text);}

.menu{position:absolute;top:100%;right:var(--space-3);background:var(--surface);border-radius:var(--radius);padding:var(--space-3);box-shadow:var(--shadow);display:none;flex-direction:column;gap:var(--space-2);}
.menu a{color:var(--text);text-decoration:none;min-height:44px;display:flex;align-items:center;padding:0 var(--space-2);}
.menu.open{display:flex;}

.navbtn{min-width:44px;min-height:44px;display:inline-flex;align-items:center;justify-content:center;padding:8px 12px;border-radius:12px;text-decoration:none;}
.navbtn:focus-visible{outline:2px solid Highlight;outline-offset:2px;}

.logo{font-weight:600;color:var(--text);text-decoration:none;font-size:1.25rem;display:inline-flex;align-items:center;min-width:44px;min-height:44px;}
.cart{position:relative;display:inline-flex;align-items:center;text-decoration:none;color:var(--text);min-width:44px;min-height:44px;}
.cart .badge{position:absolute;top:-6px;right:-10px;}
.avatar{border-radius:50%;background:var(--surface);color:var(--text);border:0;width:32px;height:32px;}

.hero{position:relative;color:#fff;display:flex;align-items:center;min-height:60vh;background:url('https://images.unsplash.com/photo-1528181304800-259b0884851d?auto=format&fit=crop&w=1350&q=80') center/cover no-repeat;}
.hero::after{content:"";position:absolute;inset:0;background:linear-gradient(to bottom, rgb(0 0 0/.4), rgb(0 0 0/.6));}
.hero__content{position:relative;z-index:1;padding-block:var(--space-4);}
.hero__cta{display:flex;gap:var(--space-2);margin-top:var(--space-3);}

.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border-radius:var(--radius);border:1px solid transparent;transition:.2s;text-decoration:none;}
.btn--primary{background:var(--brand);color:#fff;}
.btn--primary:hover{background:var(--brand-600);transform:translateY(-1px);}

.badge{display:inline-flex;align-items:center;justify-content:center;border-radius:999px;background:var(--brand);color:#fff;padding:0 var(--space-1);font-size:.75rem;}

.card{background:var(--surface);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);transition:.25s;display:flex;flex-direction:column;}
.card:hover{transform:translateY(-2px);}
.card__media{width:100%;aspect-ratio:16/9;object-fit:cover;display:block;}
.card__body{padding:var(--space-3);display:flex;flex-direction:column;gap:var(--space-2);}
.card__title{font-size:1.125rem;margin:0;}

.chips{display:flex;gap:var(--space-1);flex-wrap:wrap;margin:var(--space-1) 0;padding:0;list-style:none;}
.chip{display:inline-block;background:#e5e7eb;color:#374151;font-size:.8rem;padding:.25rem .5rem;border-radius:999px;}
.nav-right .chip{min-height:44px;display:inline-flex;align-items:center;padding:0 var(--space-2);}

.bars{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--space-3);list-style:none;padding:0;}

.rating{color:var(--brand);}
.distance{color:var(--brand);font-size:.875rem;font-weight:600;min-height:1.25em;}
.card__desc{color:var(--muted);font-size:.875rem;min-height:1.25em;}

.search{margin-bottom:var(--space-3);}

.top-controls{flex:1;display:flex;align-items:center;gap:var(--space-2);position:relative;}
.top-controls input{padding:var(--space-1);min-height:44px;}

#barSearch{width:150px;transition:width .3s;}
#barSearch.expanded{width:clamp(150px,80vw,400px);}

.search-suggestions{
  position:absolute;
  top:100%;
  left:0;
  width:100%;
  background:var(--bg);
  border:1px solid #d1d5db;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  display:none;
  max-height:60vh;
  overflow:auto;
  z-index:1000;
}
.search-suggestions.show{display:block;}
.search-suggestions .card{margin:var(--space-1);}
.search-suggestions li{cursor:pointer;}
.location-selector{
  display:flex;
  align-items:center;
  border:1px solid #d1d5db;
  border-radius:var(--radius);
  padding:0 var(--space-2);
  min-height:44px;
  background:#fff;
  cursor:text;
}
.location-selector:hover,
.location-selector:focus-within{
  background:#f9f9f9;
  border-color:#007bff;
}
.location-icon{margin-right:var(--space-1);}
.location-display{
  flex:1;
  border:0;
  background:transparent;
  color:inherit;
  min-width:0;
  appearance:none;
  -webkit-appearance:none;
}
.location-display:focus{outline:none;}

.location-display::-webkit-calendar-picker-indicator,
.location-display::-webkit-list-button,
.location-display::-ms-expand{
  display:none;
}

@media (prefers-reduced-motion: reduce){*{animation:none;transition:none}}

.site-footer{margin-top:var(--space-4);padding:var(--space-3) 0 calc(var(--space-3) + env(safe-area-inset-bottom));background:var(--surface);text-align:center;}
.site-footer a{color:var(--text);text-decoration:none;}

.auth-card{max-width:400px;margin:var(--space-4) auto;padding:var(--space-3);background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);display:flex;flex-direction:column;gap:var(--space-2);}
.auth-card h1{margin:0;text-align:center;}
.auth-card .alert{color:#dc2626;text-align:center;}
.auth-card form{display:flex;flex-direction:column;gap:var(--space-2);}
.auth-card label{display:flex;flex-direction:column;font-weight:600;gap:var(--space-1);}
.auth-card input,.auth-card select{padding:var(--space-2);border:1px solid #d1d5db;border-radius:var(--radius);min-height:44px;}
.auth-card button{align-self:center;margin-top:var(--space-1);}

.dashboard-info{margin-bottom:var(--space-4);}
.dashboard-info .card{padding:var(--space-3);gap:var(--space-1);}
.dashboard-actions{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:var(--space-3);}
.dashboard-actions .card{padding:var(--space-3);text-align:center;gap:var(--space-2);}
.dashboard-actions .card h3{margin-top:0;}

/* generic form styles */
.form{max-width:400px;margin:var(--space-4) auto;display:flex;flex-direction:column;gap:var(--space-2);}
.form label{display:flex;flex-direction:column;font-weight:600;gap:var(--space-1);}
.form input,.form select{padding:var(--space-2);border:1px solid #d1d5db;border-radius:var(--radius);min-height:44px;}
.form .btn{align-self:center;margin-top:var(--space-1);}
.form--inline{flex-direction:row;align-items:center;gap:var(--space-1);max-width:none;margin:0;}
.form--inline input{width:4rem;}
.form--inline .btn{margin-top:0;}

/* table styles */
.table{width:100%;border-collapse:collapse;margin:var(--space-3) 0;}
.table th,.table td{padding:var(--space-2);text-align:left;border-bottom:1px solid #e5e7eb;}
.table th{background:var(--surface);}

/* button variants */
.btn--secondary{background:var(--surface);color:var(--text);border-color:#d1d5db;}
.btn--secondary:hover{background:#e5e7eb;}
.btn--danger{background:#dc2626;color:#fff;}
.btn--danger:hover{background:#b91c1c;}
.btn--success{background:#16a34a;color:#fff;}
.btn--success:hover{background:#15803d;}
.btn--small{padding:.5rem .75rem;font-size:.875rem;}

/* product grid */
.products{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:var(--space-3);list-style:none;padding:0;}

/* utilities */
.alert{padding:var(--space-2);border-radius:var(--radius);margin-bottom:var(--space-3);}
.alert-danger{background:#fee2e2;color:#991b1b;}
.alert-success{background:#d1fae5;color:#065f46;}
.text-center{text-align:center;}

@media (max-width: 768px){
  .desktop-nav{display:none;}
  .app-header{position:sticky;top:0;z-index:1000;backdrop-filter:blur(8px);background:rgba(255,255,255,.85);padding-top:env(safe-area-inset-top);}
  .hdr-top,.hdr-sub{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;}
  .hdr-logo{font-weight:700;text-decoration:none;}
  .hdr-actions{display:flex;align-items:center;gap:8px;}
  .credit-pill{padding:6px 10px;border-radius:999px;background:#eef3ff;font-weight:600;white-space:nowrap;font-size:clamp(14px,3.8vw,16px);}
  .cart-icon{position:relative;display:inline-flex;align-items:center;}
  .badge{position:absolute;top:-6px;right:-8px;min-width:16px;height:16px;border-radius:999px;display:grid;place-items:center;font-size:11px;background:#ff2d55;color:#fff;padding:0 4px;}
  .location-pill{flex:1;padding:10px 12px;border-radius:999px;border:1px solid #e5e7eb;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:8px;font-size:clamp(14px,3.8vw,16px);background:transparent;}
  .btn-icon{width:44px;height:44px;display:grid;place-items:center;background:transparent;border:0;}
  .js-theme-toggle,.js-notifications,.desktop-search,.desktop-location,.desktop-credit{display:none !important;}
  .search-overlay{position:fixed;inset:0;background:rgba(255,255,255,.98);z-index:1100;display:none;}
  .search-overlay[hidden]{display:none;}
  .search-overlay.open{display:block;animation:fadeIn .18s ease-out;}
  @keyframes fadeIn{from{opacity:0}to{opacity:1}}
}

@media (min-width: 769px){
  .app-header{display:none;}
}

