:root{
  --brand:var(--sg-purple-700);
  --brand-600:var(--sg-purple-600);
  --bg:var(--color-bg);
  --surface:var(--color-surface);
  --text:var(--sg-ink-900);
  --muted:var(--color-muted);
  --radius:var(--sg-radius-xl);
  --shadow:var(--sg-shadow-md);
  --space-1:8px; --space-2:12px; --space-3:20px; --space-4:28px;
  --font-sans:"Inter", ui-sans-serif, system-ui;
  --filter-border:#E5E7EB;
  --filter-radius:12px;
  --filter-pad:12px;
  --filter-gap:12px;
}

*,*::before,*::after{box-sizing:border-box;}

body{background:var(--bg);color:var(--text);font-family:var(--font-sans);transition:background .3s,color .3s;}

body.dark-mode{
  --bg:#0f172a; --surface:#1e293b; --text:#f8fafc; --muted:#94a3b8;
  --brand:var(--sg-purple-400); --brand-600:var(--sg-purple-600);
}

.container{max-width:1200px;margin-inline:auto;padding-inline:clamp(var(--space-2),4vw,var(--space-4));}


.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0;}

.site-header{position:sticky;top:0;z-index:50;background:var(--bg);padding:12px 16px;min-height:56px;box-shadow:var(--sg-shadow-md);transition:padding .2s var(--ease),box-shadow .2s var(--ease);}
.site-header::after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:linear-gradient(to right,var(--sg-purple-700),transparent);}
.site-header.is-scrolled{padding:8px 16px;box-shadow:0 8px 24px rgba(16,12,40,.12);} /* stronger shadow on scroll */
.mobile-header,.navbar{display:flex;align-items:center;justify-content:space-between;}
.mobile-header{height:56px;}
.navbar{gap:var(--space-2);padding:0;position:relative;}
.navbar a{color:var(--text);text-decoration:none;}

.hdr-actions{display:flex;align-items:center;gap:8px;}
.hdr-logo{font-weight:700;text-decoration:none;position:absolute;left:50%;transform:translateX(-50%);}

.theme-toggle{background:none;border:0;padding:var(--space-1);cursor:pointer;font-size:1.25rem;color:var(--text);transition:color .2s;min-width:44px;min-height:44px;}
.nav-toggle{background:none;border:0;display:flex;align-items:center;justify-content:center;min-width:44px;min-height:44px;color:var(--text);transition:color .2s;font-size:1.5rem;}
.nav-toggle:hover{color:var(--sg-purple-700);}
.hamburger{display:none;}
.hamburger span{display:none;}

.menu{position:absolute;top:100%;right:var(--space-3);background:var(--surface);border-radius:var(--radius);padding:var(--space-3);box-shadow:var(--shadow);display:none;flex-direction:column;gap:var(--space-2);}
.menu a{color:var(--text);text-decoration:none;min-height:44px;display:flex;align-items:center;padding:0 var(--space-2);}
.menu.open{display:flex;}

.navbtn{min-width:44px;min-height:44px;display:inline-flex;align-items:center;justify-content:center;padding:8px 12px;border-radius:12px;text-decoration:none;}
.navbtn:focus-visible{outline:2px solid Highlight;outline-offset:2px;}

  .logo{font-weight:600;color:var(--text);text-decoration:none;font-size:1.25rem;display:inline-flex;align-items:center;min-width:44px;min-height:44px;}
  .cart{display:flex;flex-direction:column;align-items:center;justify-content:center;text-decoration:none;color:var(--text);min-width:44px;min-height:44px;}
  .cart-icon{position:relative;display:inline-flex;align-items:center;justify-content:center;min-width:44px;min-height:44px;text-decoration:none;color:var(--text);overflow:visible;transition:color .2s;font-size:1.5rem;}
  .cart-icon:hover{color:var(--sg-purple-700);}
  .cart-badge{position:absolute;top:4px;right:4px;min-width:16px;height:16px;border-radius:999px;display:flex;align-items:center;justify-content:center;font-size:11px;background:rgba(91,33,182,.14);color:var(--sg-ink-900);padding:0 4px;font-weight:700;}
  .credit-pill{padding:4px 8px;border-radius:999px;background:rgba(91,33,182,.15);font-weight:700;white-space:nowrap;font-size:clamp(12px,3vw,14px);min-height:32px;display:inline-flex;align-items:center;color:var(--sg-purple-700);text-decoration:none;}
  .cart-emoji{font-size:1.25rem;}
  .cart-count{font-size:.75rem;margin-top:2px;}
.avatar{border-radius:50%;background:var(--surface);color:var(--text);border:0;width:32px;height:32px;}

/* overlay menu */
.menu-backdrop{position:fixed;inset:0;background:rgba(14,11,23,.45);backdrop-filter:blur(2px);z-index:1000;opacity:0;transition:opacity .22s var(--ease);}
.menu-backdrop[hidden]{display:none;}
.menu-backdrop.is-open{opacity:1;}

.mobile-menu{position:fixed;top:64px;left:50%;transform:translate(-50%,-10px);width:94%;max-width:360px;background:#fff;border-radius:var(--sg-radius-xl);box-shadow:var(--sg-shadow-lg);padding:20px;display:flex;flex-direction:column;gap:8px;z-index:1001;opacity:0;transition:transform .22s var(--ease),opacity .22s var(--ease);}
.mobile-menu[hidden]{display:none;}
.mobile-menu.is-open{opacity:1;transform:translate(-50%,0);}
.mobile-menu:focus,.mobile-menu:focus-within{outline:none;box-shadow:none;}
.mobile-menu a{display:flex;align-items:center;gap:12px;padding:12px 16px;border-radius:8px;text-decoration:none;color:var(--sg-ink-900);font-size:clamp(16px,4vw,18px);min-height:48px;transition:background .2s var(--ease),color .2s var(--ease),transform .2s var(--ease);}
.mobile-menu a i{font-size:1.25rem;opacity:.9;transition:opacity .2s var(--ease),transform .2s var(--ease);}
.mobile-menu a:hover{background:var(--sg-purple-100);color:var(--sg-purple-700);transform:translateX(2px);}
.mobile-menu a:hover i{opacity:1;transform:translateX(2px);}
.mobile-menu a + a{border-top:1px solid rgba(14,11,23,.08);}
.menu-close{align-self:flex-end;background:none;border:0;color:var(--sg-ink-900);min-width:44px;min-height:44px;font-size:1.25rem;}
.menu-close:hover{color:var(--sg-purple-700);}
.menu-register{border:1px solid transparent;background:#fff;border-radius:999px;margin-top:4px;text-align:center;}
.menu-register:hover{border-color:var(--sg-purple-700);background:var(--sg-purple-100);}
.menu-register:focus{outline:none;box-shadow:none;}
.menu-register:focus-visible{outline:2px solid var(--sg-purple-600);outline-offset:3px;}
.mobile-menu a:focus,.mobile-menu button:focus{outline:none;box-shadow:none;}
.mobile-menu a:focus-visible,.mobile-menu button:focus-visible{outline:2px solid var(--sg-purple-600);outline-offset:3px;box-shadow:none;}

@media(min-width:769px){
  .mobile-menu{top:72px;left:16px;right:auto;transform:translateY(-10px);width:320px;}
  .mobile-menu.is-open{transform:translateY(0);}
}

/* light purple hero */
.hero{position:relative;color:var(--sg-ink-900);display:flex;align-items:center;min-height:60vh;overflow:hidden;}

.hero__content{position:relative;z-index:1;padding-block:var(--space-4);max-width:640px;}
.hero__content h1{font-size:clamp(32px,5vw,36px);line-height:1.15;margin-bottom:var(--space-2);}
.hero__content p{color:var(--color-muted);}
.hero__cta{display:flex;gap:var(--space-2);margin-top:var(--space-3);}
.btn--primary{background:linear-gradient(90deg,var(--sg-purple-700),var(--sg-purple-600));color:#fff;}
.btn--primary:hover{background:linear-gradient(90deg,var(--sg-purple-600),var(--sg-purple-700));transform:none;}

.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border-radius:var(--radius);border:1px solid transparent;transition:.2s;text-decoration:none;}
.btn--primary{background:var(--brand);color:#fff;}
.btn--primary:hover{background:var(--brand-600);transform:translateY(-1px);}

.badge{display:inline-flex;align-items:center;justify-content:center;border-radius:999px;background:var(--brand);color:#fff;padding:0 var(--space-1);font-size:.75rem;}
.status{font-weight:600;}
.status-open{color:#2563eb;}
.status-closed{color:#dc2626;}

.card{background:var(--surface);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);transition:.25s;display:flex;flex-direction:column;}
@media (max-width:768px){.card{max-height:400px;}}
.card:hover{transform:translateY(-2px);}
.card__media{width:100%;aspect-ratio:16/9;object-fit:cover;display:block;}
.card__body{padding:var(--space-3);display:flex;flex-direction:column;gap:var(--space-2);}
.card__title{font-size:1.125rem;margin:0;}

.chips{display:flex;gap:var(--space-1);flex-wrap:wrap;margin:var(--space-1) 0;padding:0;list-style:none;}
/* purple tinted chips */
.chip{display:inline-block;background:rgba(91,33,182,.08);color:var(--sg-ink-900);font-size:.8rem;padding:.25rem .75rem;border-radius:999px;transition:background .2s,color .2s;}
.chip:hover{background:rgba(91,33,182,.15);}
  .chip.active{background:var(--sg-purple-700);color:#fff;}
  .nav-right .chip{min-height:44px;display:inline-flex;align-items:center;padding:0 var(--space-2);}

 .filters-toolbar{position:sticky;top:0;z-index:10;background:var(--bg);margin-bottom:var(--space-2);border-radius:var(--sg-card-radius);}
.btn-filter{background:var(--sg-glass) padding-box,var(--sg-gradient) border-box;border:1.5px solid transparent;border-radius:var(--sg-radius);padding:8px 14px;display:inline-flex;align-items:center;gap:8px;font-weight:600;font-size:.875rem;line-height:1;color:var(--text);min-width:44px;min-height:44px;box-shadow:var(--sg-shadow);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:background .2s var(--ease),box-shadow .2s var(--ease),transform .12s var(--ease);text-decoration:none;}
 .btn-filter i{color:var(--sg-primary);transition:color .2s var(--ease);}
 .btn-filter:hover,.btn-filter:active{box-shadow:var(--sg-shadow),inset 0 0 0 1px rgba(110,74,252,.25);}
 .btn-filter:active{transform:scale(.98);}
 .btn-filter:focus-visible{outline:2px solid var(--sg-primary-600);outline-offset:2px;}
 .btn-filter[aria-expanded="true"]{background:rgba(110,74,252,.08) padding-box,var(--sg-gradient) border-box;box-shadow:0 8px 24px rgba(110,74,252,.2),0 2px 6px rgba(17,24,39,.08);}
 .btn-filter[aria-expanded="true"] i{color:var(--sg-primary-600);}
 .btn-filter .badge{display:inline-flex;align-items:center;justify-content:center;min-width:18px;height:18px;background:var(--sg-gradient);color:#fff;border-radius:999px;font-size:12px;transition:transform .2s var(--ease);}
 .btn-filter .badge.pulse{animation:badge-pulse .4s var(--ease);}
 .btn-filter .badge[hidden]{display:none;}
 .btn-filter .chevron{transition:transform .2s var(--ease);}
 .btn-filter[aria-expanded="true"] .chevron{transform:rotate(180deg);}
 @keyframes badge-pulse{0%{transform:scale(.9);}50%{transform:scale(1.05);}100%{transform:scale(1);}}
@media (prefers-reduced-motion: reduce){.btn-filter,.btn-filter .chevron,.btn-filter i{transition:none;}.btn-filter .badge{animation:none;}}
  .bar-filters[hidden]{display:none;}
  .bar-filters{border:1px solid var(--filter-border);border-radius:var(--filter-radius);padding:var(--filter-pad);display:flex;flex-direction:column;gap:var(--filter-gap);margin:0 auto var(--space-2);width:fit-content;max-width:100%;}
  .bar-filters .filter-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:var(--filter-gap);align-items:flex-end;}
  .bar-filters .filter-group{display:flex;flex-direction:column;gap:4px;}
  .bar-filters .input-wrap{display:flex;align-items:center;gap:4px;border:1px solid var(--filter-border);border-radius:var(--filter-radius);padding:4px 8px;background:#fff;}
  .bar-filters .input-wrap input{border:0;outline:none;padding:4px 0;min-width:0;flex:1;font:inherit;}
  .bar-filters .range-wrap{display:flex;align-items:center;gap:8px;}
  .bar-filters .range-wrap input[type="range"]{width:140px;}
  .bar-filters .rating-stars{display:flex;align-items:center;gap:4px;font-size:1.25rem;color:var(--brand);cursor:pointer;}
  .bar-filters .check-group{display:flex;gap:12px;align-self:flex-end;}
  .bar-filters .actions{display:flex;gap:12px;margin-left:auto;}
  .bar-filters .btn-link{background:none;border:0;color:var(--brand);text-decoration:underline;padding:8px;font:inherit;cursor:pointer;}
  .bar-filters .btn-primary{background:var(--brand);color:#fff;border:0;border-radius:var(--filter-radius);padding:8px 16px;font:inherit;cursor:pointer;}
  .bar-filters .filter-group.categories{grid-column:1/-1;}
  .active-filters{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0;}
  .filter-chip{display:inline-flex;align-items:center;gap:4px;border:1px solid var(--filter-border);border-radius:999px;padding:4px 8px;background:#fff;font-size:.875rem;}
  .filter-chip i{font-size:1rem;cursor:pointer;}

  .bars{display:grid;grid-template-columns:1fr;gap:var(--space-3);list-style:none;padding:0;}
  .bars.all-bars{justify-items:center;}
.bars .bar-card{width:400px;max-width:400px;}
.bars.all-bars .bar-card{width:350px;max-width:350px;}
@media (min-width:768px){
  .bars{grid-template-columns:repeat(2,1fr);}
}
@media (min-width:1200px){
  .bars{grid-template-columns:repeat(3,1fr);}
}

.rating{color:var(--brand);}
.distance{color:var(--brand);font-size:.875rem;font-weight:600;min-height:1.25em;}
.card__desc{color:var(--muted);font-size:.875rem;min-height:1.25em;}

.search{margin-bottom:var(--space-3);}

.top-controls{flex:1;display:flex;align-items:center;gap:var(--space-2);position:relative;}
.top-controls input{padding:var(--space-1);min-height:44px;}

#barSearch{width:150px;transition:width .3s;}
#barSearch.expanded{width:clamp(150px,80vw,400px);}

.search-suggestions{
  position:absolute;
  top:100%;
  left:0;
  width:100%;
  background:var(--bg);
  border:1px solid #d1d5db;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  display:none;
  max-height:60vh;
  overflow:auto;
  z-index:1000;
}
.search-suggestions.show{display:block;}
.search-suggestions .card{margin:var(--space-1);}
.search-suggestions li{cursor:pointer;}
.location-selector{
  display:flex;
  align-items:center;
  border:1px solid #d1d5db;
  border-radius:var(--radius);
  padding:0 var(--space-2);
  min-height:44px;
  background:#fff;
  cursor:text;
}
.location-selector:hover,
.location-selector:focus-within{
  background:#f9f9f9;
  border-color:#007bff;
}
.location-icon{margin-right:var(--space-1);}
.location-display{
  flex:1;
  border:0;
  background:transparent;
  color:inherit;
  min-width:0;
  appearance:none;
  -webkit-appearance:none;
}
.location-display:focus{outline:none;}

.location-display::-webkit-calendar-picker-indicator,
.location-display::-webkit-list-button,
.location-display::-ms-expand{
  display:none;
}

@media (prefers-reduced-motion: reduce){*{animation:none;transition:none}}

.site-footer{margin-top:var(--space-4);padding:var(--space-3) 0 calc(var(--space-3) + env(safe-area-inset-bottom));background:var(--surface);text-align:center;}
.site-footer a{color:var(--text);text-decoration:none;}

.auth-card{max-width:400px;margin:var(--space-4) auto;padding:var(--space-3);background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);display:flex;flex-direction:column;gap:var(--space-2);}
.auth-card h1{margin:0;text-align:center;}
.auth-card .alert{color:#dc2626;text-align:center;}
.auth-card form{display:flex;flex-direction:column;gap:var(--space-2);}
.auth-card label{display:flex;flex-direction:column;font-weight:600;gap:var(--space-1);}
.auth-card input,.auth-card select{padding:var(--space-2);border:1px solid #d1d5db;border-radius:var(--radius);min-height:44px;}
.auth-card button{align-self:center;margin-top:var(--space-1);}

.dashboard-info{margin-bottom:var(--space-4);}
.dashboard-info .card{padding:var(--space-3);gap:var(--space-1);}
.dashboard-actions{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:var(--space-3);}
.dashboard-actions .card{padding:var(--space-3);text-align:center;gap:var(--space-2);}
.dashboard-actions .card h3{margin-top:0;}

/* generic form styles */
.form{max-width:400px;margin:var(--space-4) auto;display:flex;flex-direction:column;gap:var(--space-2);}
.form label{display:flex;flex-direction:column;font-weight:600;gap:var(--space-1);}
.form input,.form select{padding:var(--space-2);border:1px solid #d1d5db;border-radius:var(--radius);min-height:44px;}
.form .btn{align-self:center;margin-top:var(--space-1);}
.form--inline{flex-direction:row;align-items:center;gap:var(--space-1);max-width:none;margin:0;}
.form--inline input{width:4rem;}
.form--inline .btn{margin-top:0;}

/* table styles */
.table{width:100%;border-collapse:collapse;margin:var(--space-3) 0;}
.table th,.table td{padding:var(--space-2);text-align:left;border-bottom:1px solid #e5e7eb;}
.table th{background:var(--surface);}

/* button variants */
.btn--secondary{background:var(--surface);color:var(--text);border-color:#d1d5db;}
.btn--secondary:hover{background:#e5e7eb;}
.btn--danger{background:#dc2626;color:#fff;}
.btn--danger:hover{background:#b91c1c;}
.btn--success{background:#16a34a;color:#fff;}
.btn--success:hover{background:#15803d;}
.btn--small{padding:.5rem .75rem;font-size:.875rem;}

/* product grid */
.products{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:var(--space-3);list-style:none;padding:0;justify-items:center;}

/* utilities */
.alert{padding:var(--space-2);border-radius:var(--radius);margin-bottom:var(--space-3);}
.alert-danger{background:#fee2e2;color:#991b1b;}
.alert-success{background:#d1fae5;color:#065f46;}
.text-center{text-align:center;}

  @media (max-width: 768px){
    .desktop-nav{display:none;}
    .mobile-header{position:sticky;top:0;z-index:1000;display:flex;align-items:center;justify-content:space-between;height:56px;padding:0 16px;padding-top:env(safe-area-inset-top);background:var(--bg);box-shadow:0 1px 2px rgba(0,0,0,.08);}
    .nav-toggle{background:none;border:0;display:flex;align-items:center;justify-content:center;width:44px;height:44px;cursor:pointer;overflow:visible;}
    .nav-toggle:focus-visible{outline:2px solid Highlight;outline-offset:2px;}
      .nav-toggle svg{transform:scale(2);transform-origin:center;}
    .bars{grid-template-columns:1fr;}
    .hdr-sub{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;}
    .location-pill{flex:1;padding:10px 12px;border-radius:999px;border:1px solid #e5e7eb;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:8px;font-size:clamp(14px,3.8vw,16px);background:transparent;}
    .btn-icon{width:32px;height:32px;display:grid;place-items:center;background:transparent;border:0;}
    main{scroll-margin-top:60px;}
    .js-theme-toggle,.js-notifications,.desktop-search,.desktop-location,.desktop-credit{display:none !important;}
    .search-overlay{position:fixed;inset:0;background:rgba(255,255,255,.98);z-index:1100;display:none;}
    .search-overlay .overlay-body{max-width:90%;margin:40px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.15);}
    .search-overlay[hidden]{display:none;}
    .search-overlay.open{display:block;animation:fadeIn .18s ease-out;}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
  }

@media (min-width: 769px){
  .mobile-header,.hdr-sub{display:none;}
}

/* --- Bar search page --- */
.search-page{padding-bottom:env(safe-area-inset-bottom);}
.search-stick{position:sticky;top:0;z-index:20;display:flex;gap:12px;padding:12px env(safe-area-inset-left) 12px env(safe-area-inset-right);background:var(--bg);border-bottom:1px solid rgba(0,0,0,.06);}
.search-stick input{flex:1;border:1px solid #d1d5db;border-radius:12px;padding:10px 12px;font-size:16px;}
.filter-btn{position:relative;border:1px solid #d1d5db;background:var(--surface);border-radius:12px;width:44px;height:44px;display:flex;align-items:center;justify-content:center;}
.bar-section{margin-top:24px;}
.section-track{background:rgba(255,255,255,.72);backdrop-filter:blur(4px);border:1px solid rgba(16,12,40,.06);border-radius:20px;padding:12px;margin:8px 12px 16px;box-shadow:0 12px 28px rgba(16,12,40,.08);}
@media (min-width:768px){.section-track{background:#FFF;backdrop-filter:none;margin:8px 0 24px;}}
.section-head{display:flex;align-items:center;justify-content:space-between;padding:0 12px 8px;}
.section-head h2{margin:0;font-size:1.125rem;}
.scroller{display:flex;gap:14px;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;padding:0 12px 12px;overscroll-behavior-x:contain;}
.scroller::-webkit-scrollbar{display:none;}
.scroller{scrollbar-width:none;}
.bars.scroller .bar-card{flex:0 0 auto;width:400px;max-width:400px;}
.bar-card,.product-card{position:relative;flex:0 0 auto;width:400px;max-width:400px;height:450px;max-height:450px;background:var(--sg-surface);border:1px solid var(--sg-card-border);border-radius:var(--sg-card-radius);box-shadow:var(--sg-shadow-sm);padding:12px;scroll-snap-align:start;display:flex;flex-direction:column;gap:12px;text-decoration:none;color:inherit;cursor:pointer;transition:box-shadow .18s ease,transform .18s ease,border-color .18s ease;}
.bar-card .thumb-wrapper,.product-card .thumb-wrapper{width:100%;aspect-ratio:16/9;overflow:hidden;border-radius:calc(var(--sg-card-radius) - 4px);background:linear-gradient(180deg,#F4F2FB,#ECE7FE);}
.bar-card .thumb,.product-card .thumb{width:100%;height:100%;object-fit:cover;display:block;transition:transform .2s;}
@media(hover:hover){.bar-card:hover,.product-card:hover{box-shadow:var(--sg-shadow-md);transform:translateY(-2px);}}
.bar-card:active,.product-card:active{transform:translateY(0);}
.bar-card.is-open{box-shadow:var(--sg-shadow-sm);}
.bar-card:hover .thumb,.product-card:hover .thumb{transform:scale(1.02);}
.bar-card .title,.product-card .title{font-size:16px;font-weight:700;margin:0;color:var(--sg-ink-900);}
.bar-meta{display:flex;gap:12px;align-items:center;font-weight:500;font-size:.9rem;margin-top:4px;color:rgba(14,11,23,.72);}
.bar-meta i{margin-right:4px;color:#6D28D9;}
.bar-rating .rating-value{font-weight:600;color:var(--sg-ink-900);}
.bar-meta .bar-rating[data-has-rating="false"],
.bar-meta .bar-distance[data-has-distance="false"]{display:none;}
.bar-meta .bar-distance{color:var(--muted);}
.bar-card,.bar-card:focus,.bar-card:hover,.product-card,.product-card:focus,.product-card:hover{text-decoration:none;}
.bar-card address{font-style:normal;font-size:13px;color:var(--muted);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:0;}
.bar-card .desc,.product-card .desc{font-size:13px;color:var(--muted);margin:0;white-space:pre-line;overflow-wrap:anywhere;word-break:break-word;}
.bar-card:focus-visible,.product-card:focus-visible{outline:2px solid var(--sg-focus);outline-offset:3px;}
.status-open::before{content:"";display:inline-block;width:8px;height:8px;border-radius:50%;background:#10B981;margin-right:4px;}
.bar-card.featured::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:var(--sg-purple-700);border-radius:var(--sg-card-radius) var(--sg-card-radius) 0 0;}
.browse-bars-card{flex-direction:column;align-items:center;justify-content:center;gap:8px;text-align:center;font-weight:700;}
.browse-bars-card .thumb-wrapper{display:flex;align-items:center;justify-content:center;}
.browse-bars-card i{font-size:1.25rem;transform:rotate(180deg);}
@media (max-width:640px){
  .bar-card,.bars.scroller .bar-card,.product-card{width:300px;max-width:300px;height:400px;max-height:400px;}
  .bars.all-bars .bar-card{width:250px;max-width:250px;}
}
.scroller-nav{display:flex;gap:8px;}
.scroll-btn{width:36px;height:36px;border:1px solid var(--sg-card-border);border-radius:50%;background:#FFF;color:var(--sg-ink-900);cursor:pointer;transition:background .2s,color .2s;display:flex;align-items:center;justify-content:center;}
.scroll-btn:hover{background:var(--sg-purple-100);}
.scroll-btn:focus-visible{outline:2px solid var(--sg-focus);outline-offset:2px;}
.empty-state{text-align:center;padding:40px 20px;}
.info-section{background:var(--sg-gray-25);padding:var(--space-3);border-radius:var(--sg-radius-xl);margin-top:var(--space-4);}
.info-section h2{margin-top:0;position:relative;}
.info-section h2::after{content:"";display:block;width:40px;height:2px;background:var(--sg-purple-700);margin-top:4px;border-radius:2px;}
.filter-overlay{position:fixed;inset:0;z-index:1000;background:rgba(0,0,0,.35);backdrop-filter:blur(6px) brightness(.9);display:flex;align-items:flex-end;justify-content:center;}
.filter-overlay[hidden]{display:none;}
.filter-overlay .help{font-size:.875rem;color:#6b7280;margin-top:4px;}
.filter-sheet{background:var(--bg);width:100%;max-height:85vh;border-radius:16px 16px 0 0;padding:16px;padding-bottom:calc(16px + env(safe-area-inset-bottom));box-shadow:0 -4px 20px rgba(0,0,0,.2);transform:translateY(100%);transition:transform .3s ease;overflow-y:auto;}
.filter-overlay.show .filter-sheet{transform:translateY(0);}
.grabber{width:48px;height:5px;border-radius:8px;background:var(--muted);margin:0 auto 16px;}
.filter-sheet .group{margin-top:16px;}
.filter-sheet .group-head{display:flex;justify-content:space-between;align-items:center;}
.filter-sheet .group-head .group-toggle{display:flex;align-items:center;gap:8px;margin-left:auto;}
.filter-sheet .group[data-active="false"]{opacity:.55;}
.filter-sheet .group[data-active="true"] .inactive-hint{display:none;}
.filter-sheet .group .value-chip{margin-left:0;}
.sheet-footer{position:sticky;bottom:0;display:flex;gap:12px;padding-top:16px;margin-top:16px;background:var(--bg);}
.sheet-footer .apply{flex:1;}
@media (prefers-color-scheme: dark){
  .bar-card{background:#1e293b;}
  .bar-card .bar-meta .bar-distance,
  .bar-card address,
  .bar-card .desc{color:#94a3b8;}
  .scroll-btn{background:#1e293b;color:#f8fafc;}
  .filter-sheet{background:#1e293b;}
}

/* Mobile header adjustments */
@media (max-width: 768px){
  .site-header,
  .site-header .mobile-header,
  .site-header .navbar,
  .site-header .container,
  .site-header .header-surface,
  .site-header .header-card{
    background: #fff !important;
    box-shadow: none !important;
    border: none !important;
    border-radius: 0 !important;
    margin: 0 !important;
  }

  .site-header{
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    width: 100vw;
    padding-top: max(12px, env(safe-area-inset-top));
    z-index: 1000;
  }

  .site-header::after{
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 2px;
    background: linear-gradient(90deg, rgba(91,33,182,.55), rgba(91,33,182,.15));
    pointer-events: none;
  }

  .site-header .mobile-header,
  .site-header .navbar{
    max-width: none !important;
    padding-left: 16px;
    padding-right: 16px;
  }
}

/* section utility & CTA pill */
.section-utility{
  display:flex;
  justify-content:flex-end;
  margin-block:24px;
}

.cta-pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 16px;
  border-radius:999px;
  text-decoration:none;
  font-weight:600;
  line-height:1;
}

.cta-pill:focus-visible{
  outline:2px solid var(--sg-purple-600);
  outline-offset:2px;
}

.cta-pill--primary{
  background:var(--sg-purple-700);
  color:#fff;
}

.cta-pill--primary:hover,
.cta-pill--primary:focus{
  background:var(--sg-purple-600);
  color:#fff;
}

.cta-pill--ghost{
  background:transparent;
  color:var(--sg-purple-700);
  border:1px solid var(--sg-purple-700);
}

.cta-pill--ghost:hover,
.cta-pill--ghost:focus{
  background:var(--sg-purple-100);
}

