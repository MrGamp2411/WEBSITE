:root{
  --brand:#0ea5e9; --brand-600:#0284c7;
  --bg:#ffffff; --surface:#f3f4f6; --text:#111827; --muted:#6b7280;
  --radius:16px; --shadow:0 10px 30px rgb(0 0 0/.35);
  --space-1:8px; --space-2:12px; --space-3:20px; --space-4:28px;
  --font-sans:"Inter", ui-sans-serif, system-ui;
}

*,*::before,*::after{box-sizing:border-box;}

body{background:var(--bg);color:var(--text);font-family:var(--font-sans);transition:background .3s,color .3s;}

body.dark-mode{
  --bg:#0f172a; --surface:#1e293b; --text:#f8fafc; --muted:#94a3b8;
  --brand:#38bdf8; --brand-600:#0ea5e9;
}

.container{max-width:1200px;margin-inline:auto;padding-inline:clamp(var(--space-2),4vw,var(--space-4));}


.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0;}

.site-header{position:sticky;top:0;z-index:50;background:var(--bg);border-bottom:1px solid rgba(0,0,0,0.06);}
.navbar{display:flex;align-items:center;justify-content:space-between;gap:var(--space-2);padding:calc(8px + env(safe-area-inset-top)) 8px 8px;}
.navbar a{color:var(--text);text-decoration:none;}
.navbar.is-scrolled{box-shadow:var(--shadow);background:var(--surface);}

.nav-left,.nav-right{display:flex;align-items:center;gap:var(--space-2);}
.nav-right{gap:var(--space-3);}

.theme-toggle{background:none;border:0;padding:var(--space-1);cursor:pointer;font-size:1.25rem;color:var(--text);transition:color .2s;min-width:44px;min-height:44px;}
  .hamburger{display:flex;flex-direction:column;gap:4px;background:none;border:0;padding:var(--space-1);cursor:pointer;min-width:32px;min-height:32px;}
.hamburger span{width:24px;height:2px;background:var(--text);}

.menu{position:absolute;top:100%;right:var(--space-3);background:var(--surface);border-radius:var(--radius);padding:var(--space-3);box-shadow:var(--shadow);display:none;flex-direction:column;gap:var(--space-2);}
.menu a{color:var(--text);text-decoration:none;min-height:44px;display:flex;align-items:center;padding:0 var(--space-2);}
.menu.open{display:flex;}

.navbtn{min-width:44px;min-height:44px;display:inline-flex;align-items:center;justify-content:center;padding:8px 12px;border-radius:12px;text-decoration:none;}
.navbtn:focus-visible{outline:2px solid Highlight;outline-offset:2px;}

  .logo{font-weight:600;color:var(--text);text-decoration:none;font-size:1.25rem;display:inline-flex;align-items:center;min-width:44px;min-height:44px;}
  .cart{display:flex;flex-direction:column;align-items:center;justify-content:center;text-decoration:none;color:var(--text);min-width:44px;min-height:44px;}
  .cart-icon{position:relative;display:inline-flex;align-items:center;justify-content:center;min-width:44px;min-height:44px;text-decoration:none;color:var(--text);overflow:visible;}
  .cart-icon svg{transform:scale(1);transform-origin:center;}
  .cart-badge{position:absolute;top:4px;right:4px;min-width:16px;height:16px;border-radius:999px;display:flex;align-items:center;justify-content:center;font-size:11px;background:#ff2d55;color:#fff;padding:0 4px;}
  .credit-pill{padding:4px 8px;border-radius:999px;background:#eef3ff;font-weight:600;white-space:nowrap;font-size:clamp(12px,3vw,14px);min-height:32px;display:inline-flex;align-items:center;}
  .cart-emoji{font-size:1.25rem;}
  .cart-count{font-size:.75rem;margin-top:2px;}
.avatar{border-radius:50%;background:var(--surface);color:var(--text);border:0;width:32px;height:32px;}

.hero{position:relative;color:#fff;display:flex;align-items:center;min-height:60vh;background:url('https://images.unsplash.com/photo-1528181304800-259b0884851d?auto=format&fit=crop&w=1350&q=80') center/cover no-repeat;}
.hero::after{content:"";position:absolute;inset:0;background:linear-gradient(to bottom, rgb(0 0 0/.4), rgb(0 0 0/.6));}
.hero__content{position:relative;z-index:1;padding-block:var(--space-4);}
.hero__cta{display:flex;gap:var(--space-2);margin-top:var(--space-3);}

.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border-radius:var(--radius);border:1px solid transparent;transition:.2s;text-decoration:none;}
.btn--primary{background:var(--brand);color:#fff;}
.btn--primary:hover{background:var(--brand-600);transform:translateY(-1px);}

.badge{display:inline-flex;align-items:center;justify-content:center;border-radius:999px;background:var(--brand);color:#fff;padding:0 var(--space-1);font-size:.75rem;}

.card{background:var(--surface);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);transition:.25s;display:flex;flex-direction:column;}
.card:hover{transform:translateY(-2px);}
.card__media{width:100%;aspect-ratio:16/9;object-fit:cover;display:block;}
.card__body{padding:var(--space-3);display:flex;flex-direction:column;gap:var(--space-2);}
.card__title{font-size:1.125rem;margin:0;}

.chips{display:flex;gap:var(--space-1);flex-wrap:wrap;margin:var(--space-1) 0;padding:0;list-style:none;}
.chip{display:inline-block;background:#e5e7eb;color:#374151;font-size:.8rem;padding:.25rem .5rem;border-radius:999px;}
.nav-right .chip{min-height:44px;display:inline-flex;align-items:center;padding:0 var(--space-2);}

.bars{display:grid;grid-template-columns:1fr;gap:var(--space-3);list-style:none;padding:0;}
.bars .bar-card{width:100%;}
@media (min-width:768px){
  .bars{grid-template-columns:repeat(2,1fr);}
}
@media (min-width:1200px){
  .bars{grid-template-columns:repeat(3,1fr);}
}

.rating{color:var(--brand);}
.distance{color:var(--brand);font-size:.875rem;font-weight:600;min-height:1.25em;}
.card__desc{color:var(--muted);font-size:.875rem;min-height:1.25em;}

.search{margin-bottom:var(--space-3);}

.top-controls{flex:1;display:flex;align-items:center;gap:var(--space-2);position:relative;}
.top-controls input{padding:var(--space-1);min-height:44px;}

#barSearch{width:150px;transition:width .3s;}
#barSearch.expanded{width:clamp(150px,80vw,400px);}

.search-suggestions{
  position:absolute;
  top:100%;
  left:0;
  width:100%;
  background:var(--bg);
  border:1px solid #d1d5db;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  display:none;
  max-height:60vh;
  overflow:auto;
  z-index:1000;
}
.search-suggestions.show{display:block;}
.search-suggestions .card{margin:var(--space-1);}
.search-suggestions li{cursor:pointer;}
.location-selector{
  display:flex;
  align-items:center;
  border:1px solid #d1d5db;
  border-radius:var(--radius);
  padding:0 var(--space-2);
  min-height:44px;
  background:#fff;
  cursor:text;
}
.location-selector:hover,
.location-selector:focus-within{
  background:#f9f9f9;
  border-color:#007bff;
}
.location-icon{margin-right:var(--space-1);}
.location-display{
  flex:1;
  border:0;
  background:transparent;
  color:inherit;
  min-width:0;
  appearance:none;
  -webkit-appearance:none;
}
.location-display:focus{outline:none;}

.location-display::-webkit-calendar-picker-indicator,
.location-display::-webkit-list-button,
.location-display::-ms-expand{
  display:none;
}

@media (prefers-reduced-motion: reduce){*{animation:none;transition:none}}

.site-footer{margin-top:var(--space-4);padding:var(--space-3) 0 calc(var(--space-3) + env(safe-area-inset-bottom));background:var(--surface);text-align:center;}
.site-footer a{color:var(--text);text-decoration:none;}

.auth-card{max-width:400px;margin:var(--space-4) auto;padding:var(--space-3);background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);display:flex;flex-direction:column;gap:var(--space-2);}
.auth-card h1{margin:0;text-align:center;}
.auth-card .alert{color:#dc2626;text-align:center;}
.auth-card form{display:flex;flex-direction:column;gap:var(--space-2);}
.auth-card label{display:flex;flex-direction:column;font-weight:600;gap:var(--space-1);}
.auth-card input,.auth-card select{padding:var(--space-2);border:1px solid #d1d5db;border-radius:var(--radius);min-height:44px;}
.auth-card button{align-self:center;margin-top:var(--space-1);}

.dashboard-info{margin-bottom:var(--space-4);}
.dashboard-info .card{padding:var(--space-3);gap:var(--space-1);}
.dashboard-actions{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:var(--space-3);}
.dashboard-actions .card{padding:var(--space-3);text-align:center;gap:var(--space-2);}
.dashboard-actions .card h3{margin-top:0;}

/* generic form styles */
.form{max-width:400px;margin:var(--space-4) auto;display:flex;flex-direction:column;gap:var(--space-2);}
.form label{display:flex;flex-direction:column;font-weight:600;gap:var(--space-1);}
.form input,.form select{padding:var(--space-2);border:1px solid #d1d5db;border-radius:var(--radius);min-height:44px;}
.form .btn{align-self:center;margin-top:var(--space-1);}
.form--inline{flex-direction:row;align-items:center;gap:var(--space-1);max-width:none;margin:0;}
.form--inline input{width:4rem;}
.form--inline .btn{margin-top:0;}

/* table styles */
.table{width:100%;border-collapse:collapse;margin:var(--space-3) 0;}
.table th,.table td{padding:var(--space-2);text-align:left;border-bottom:1px solid #e5e7eb;}
.table th{background:var(--surface);}

/* button variants */
.btn--secondary{background:var(--surface);color:var(--text);border-color:#d1d5db;}
.btn--secondary:hover{background:#e5e7eb;}
.btn--danger{background:#dc2626;color:#fff;}
.btn--danger:hover{background:#b91c1c;}
.btn--success{background:#16a34a;color:#fff;}
.btn--success:hover{background:#15803d;}
.btn--small{padding:.5rem .75rem;font-size:.875rem;}

/* product grid */
.products{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:var(--space-3);list-style:none;padding:0;}

/* utilities */
.alert{padding:var(--space-2);border-radius:var(--radius);margin-bottom:var(--space-3);}
.alert-danger{background:#fee2e2;color:#991b1b;}
.alert-success{background:#d1fae5;color:#065f46;}
.text-center{text-align:center;}

  @media (max-width: 768px){
    .desktop-nav{display:none;}
    .mobile-header{position:sticky;top:0;z-index:1000;display:flex;align-items:center;justify-content:space-between;height:56px;padding:0 16px;padding-top:env(safe-area-inset-top);background:var(--bg);box-shadow:0 1px 2px rgba(0,0,0,.08);}
    .nav-toggle{background:none;border:0;display:flex;align-items:center;justify-content:center;width:44px;height:44px;cursor:pointer;overflow:visible;}
    .nav-toggle:focus-visible{outline:2px solid Highlight;outline-offset:2px;}
    .hdr-logo{font-weight:700;text-decoration:none;position:absolute;left:50%;transform:translateX(-50%);}
    .hdr-actions{display:flex;align-items:center;gap:8px;}
      .nav-toggle svg{transform:scale(2);transform-origin:center;}
    .bars{grid-template-columns:1fr;}
    .hdr-sub{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;}
    .location-pill{flex:1;padding:10px 12px;border-radius:999px;border:1px solid #e5e7eb;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:8px;font-size:clamp(14px,3.8vw,16px);background:transparent;}
    .btn-icon{width:32px;height:32px;display:grid;place-items:center;background:transparent;border:0;}
    .mobile-menu{position:fixed;top:56px;left:12px;right:12px;background:var(--bg);border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.15);padding:8px;display:flex;flex-direction:column;gap:4px;z-index:1001;opacity:0;transform:translateY(-6px);transition:transform .18s ease,opacity .18s ease;}
    .mobile-menu[hidden]{display:none;}
    .mobile-menu.open{opacity:1;transform:translateY(0);}
    .mobile-menu a{display:flex;align-items:center;gap:8px;padding:8px;border-radius:8px;text-decoration:none;color:var(--text);min-height:44px;}
    .mobile-menu a:hover{background:#f6f8fa;}
    .menu-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.4);backdrop-filter:blur(2px);z-index:1000;opacity:0;transition:opacity .18s ease;}
    .menu-backdrop[hidden]{display:none;}
    .menu-backdrop.show{opacity:1;}
    main{scroll-margin-top:60px;}
    .js-theme-toggle,.js-notifications,.desktop-search,.desktop-location,.desktop-credit{display:none !important;}
    .search-overlay{position:fixed;inset:0;background:rgba(255,255,255,.98);z-index:1100;display:none;}
    .search-overlay .overlay-body{max-width:90%;margin:40px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.15);}
    .search-overlay[hidden]{display:none;}
    .search-overlay.open{display:block;animation:fadeIn .18s ease-out;}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
  }

@media (min-width: 769px){
  .mobile-header,.hdr-sub{display:none;}
}

/* --- Bar search page --- */
.search-page{padding-bottom:env(safe-area-inset-bottom);}
.search-stick{position:sticky;top:0;z-index:20;display:flex;gap:12px;padding:12px env(safe-area-inset-left) 12px env(safe-area-inset-right);background:var(--bg);border-bottom:1px solid rgba(0,0,0,.06);}
.search-stick input{flex:1;border:1px solid #d1d5db;border-radius:12px;padding:10px 12px;font-size:16px;}
.filter-btn{position:relative;border:1px solid #d1d5db;background:var(--surface);border-radius:12px;width:44px;height:44px;display:flex;align-items:center;justify-content:center;}
.bar-section{margin-top:24px;}
.section-head{display:flex;align-items:center;justify-content:space-between;padding:0 12px 8px;}
.section-head h2{margin:0;font-size:1.125rem;}
.scroller{display:flex;gap:14px;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;padding:0 12px 12px;overscroll-behavior-x:contain;}
.scroller::-webkit-scrollbar{display:none;}
.scroller{scrollbar-width:none;}
.bar-card{flex:0 0 auto;width:clamp(220px,45vw,320px);border-radius:14px;box-shadow:0 6px 18px rgba(0,0,0,.08);padding:12px;background:var(--surface);scroll-snap-align:start;display:flex;flex-direction:column;gap:12px;text-decoration:none;color:inherit;cursor:pointer;}
.bar-card .thumb{width:100%;aspect-ratio:16/9;height:auto;object-fit:cover;border-radius:var(--radius-lg,12px);background:var(--surface,#f1f1f1);display:block;}
.bar-card .title{font-size:16px;font-weight:700;margin:0;}
.bar-meta{display:flex;gap:12px;align-items:center;font-weight:500;font-size:.9rem;margin-top:4px;}
.bar-meta i{margin-right:4px;}
.bar-meta .bar-rating[data-has-rating="false"],
.bar-meta .bar-distance[data-has-distance="false"]{display:none;}
.bar-meta .bar-distance{color:var(--muted);}
.bar-card,.bar-card:focus,.bar-card:hover{text-decoration:none;}
.bar-card address{font-style:normal;font-size:13px;color:var(--muted);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:0;}
.bar-card .desc{font-size:13px;color:var(--muted);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:0;}
.bar-card:focus-visible{outline:2px solid var(--brand);outline-offset:2px;}
@media (min-width:380px){.bar-card{width:38vw;}}
@media (min-width:640px){.bar-card{width:30vw;}}
.scroller-nav{display:flex;gap:8px;}
.scroll-btn{width:32px;height:32px;border:0;border-radius:8px;background:var(--surface);box-shadow:0 1px 2px rgba(0,0,0,.1);cursor:pointer;}
.scroll-btn:focus-visible{outline:2px solid var(--brand);outline-offset:2px;}
.empty-state{text-align:center;padding:40px 20px;}
.filter-overlay{position:fixed;inset:0;z-index:1000;background:rgba(0,0,0,.35);backdrop-filter:blur(6px) brightness(.9);display:flex;align-items:flex-end;justify-content:center;}
.filter-overlay[hidden]{display:none;}
.filter-overlay .help{font-size:.875rem;color:#6b7280;margin-top:4px;}
.filter-sheet{background:var(--bg);width:100%;max-height:85vh;border-radius:16px 16px 0 0;padding:16px;padding-bottom:calc(16px + env(safe-area-inset-bottom));box-shadow:0 -4px 20px rgba(0,0,0,.2);transform:translateY(100%);transition:transform .3s ease;overflow-y:auto;}
.filter-overlay.show .filter-sheet{transform:translateY(0);}
.grabber{width:48px;height:5px;border-radius:8px;background:var(--muted);margin:0 auto 16px;}
.filter-sheet .group{margin-top:16px;}
.filter-sheet .group-head{display:flex;justify-content:space-between;align-items:center;}
.filter-sheet .group-head .group-toggle{display:flex;align-items:center;gap:8px;margin-left:auto;}
.filter-sheet .group[data-active="false"]{opacity:.55;}
.filter-sheet .group[data-active="true"] .inactive-hint{display:none;}
.filter-sheet .group .value-chip{margin-left:0;}
.sheet-footer{position:sticky;bottom:0;display:flex;gap:12px;padding-top:16px;margin-top:16px;background:var(--bg);}
.sheet-footer .apply{flex:1;}
@media (prefers-color-scheme: dark){
  .bar-card{background:#1e293b;}
  .bar-card .bar-meta .bar-distance,
  .bar-card address,
  .bar-card .desc{color:#94a3b8;}
  .scroll-btn{background:#1e293b;color:#f8fafc;}
  .filter-sheet{background:#1e293b;}
}
