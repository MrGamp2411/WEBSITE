{% extends "layout.html" %}
{% block content %}
<h1>{{ bar.name }} Orders</h1>
<div class="orders-controls">
  <a class="btn" href="/dashboard/bar/{{ bar.id }}/orders/history">Order History &amp; Revenue</a>
</div>
<div id="orders-section">
  <h2>Incoming Orders</h2>
  <div id="incoming-orders" class="order-list"></div>
  <h2>Preparing</h2>
  <div id="preparing-orders" class="order-list"></div>
  <h2>Ready</h2>
  <div id="ready-orders" class="order-list"></div>
  <h2>Completed</h2>
  <div id="completed-orders" class="order-list"></div>
</div>
<script src="/static/js/orders.js" defer></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // start bartender WebSocket listener for live orders
    initBartender({{ bar.id }});
  });
</script>
{% endblock %}
