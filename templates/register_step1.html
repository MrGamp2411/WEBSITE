{% extends "layout.html" %}
{% block content %}
<div class="auth-card">
  <h1>Register</h1>
  {% if error %}<p class="alert">{{ error }}</p>{% endif %}
  <form method="post" action="/register">
    <label for="email">Email
      <input id="email" type="email" name="email" required autocomplete="email" inputmode="email" enterkeyhint="next" pattern="[^@]+@[^@]+\.[^@]+" title="Email must be in the format text@text.text" value="{{ email|default('') }}">
    </label>
    <label for="password">Password
      <div class="password-wrapper">
        <input id="password" type="password" name="password" required autocomplete="new-password" enterkeyhint="next" minlength="8" maxlength="128" title="Password must be between 8 and 128 characters">
        <button type="button" class="toggle-password" aria-label="Show password"><i class="bi bi-eye"></i></button>
      </div>
      <span id="capsWarning" class="caps-warning" hidden>Caps Lock is on</span>
    </label>
    <label for="confirm_password">Confirm Password
      <div class="password-wrapper">
        <input id="confirm_password" type="password" name="confirm_password" required autocomplete="new-password" enterkeyhint="done" minlength="8" maxlength="128" title="Passwords must match">
        <button type="button" class="toggle-password" aria-label="Show password"><i class="bi bi-eye"></i></button>
      </div>
      <span id="capsWarningConfirm" class="caps-warning" hidden>Caps Lock is on</span>
    </label>
    <button class="btn btn--primary" type="submit">Next</button>
  </form>
  <p style="align-self:center">Already registered? <a href="/login">Log in</a></p>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/password.js" defer></script>
{% endblock %}
